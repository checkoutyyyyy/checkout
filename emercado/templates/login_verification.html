{% load static %}

<!doctype html>
 <html lang="en">
   <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{% static 'img/consumer/cart_logo.png' %}" rel="icon">
    <title>Login Verification Page</title>
    <!-- CSS only -->
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
    <script src="{% static '/functionJS/spinner.js' %}"></script>
    <style>
      .emercado_landing_page_background{
        position: relative;
        background: linear-gradient(0deg, rgb(0 0 0 / 100%), rgb(0 0 0 / 100%)), url("{% static 'img/consumer/female-shopping-bags-background-image.png' %}");
        background-size: cover;
      }
      .emercado_landing_page_background:before{
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.5;
        background-image: url("{% static 'img/consumer/female-shopping-bags-background-image.png' %}");
        background-repeat: no-repeat;
        background-size: cover;
      }
    </style>
   </head>
   <body>
    <div class="loading-spinner" id="loading-spinner" style="visibility: visible;display: block;">
      <img src="{% static 'img/consumer/cart_logo.png' %}" alt="" style="width: 85px !important; left: 50% !important; top: 50% !important; position: inherit; height: 110px !important;">
  </div>
    <nav class="navbar navbar-light consumer_background_color_1 login_header shadow d-none d-sm-flex d-md-flex d-lg-flex">
      <a class="navbar-brand ps-2 text-white" href="/">
        <img class="header_logo" src="{% static 'img/consumer/black&white.png' %}"  alt="" > 
        <!-- <span class="d-none d-flex d-sm-inline d-md-inline d-lg-inline text-white text_checkout">Checkout</span> -->
      </a>
    </nav>
     <div class="container-fluid emercado_landing_page_background">
         <div class="login d-flex align-items-center">
           <div class="container" style="position: relative;">
              <div class="row">
                <div class="col-lg-6 col-xl-7 d-none d-lg-block">
                  <div class="row w-100 m-auto">
                    <div class="col-lg-12 col-xl-12">
                      <div class="w-90 mr-auto mb-3">
                        <img class="img-fluid w-75" src="{% static 'img/consumer/cart_pics_3.png' %}"  alt="" style=" height: auto;">
                      </div>
                    </div>
                    <div class="col-lg-12 col-xl-12">
                      <h1 class="text-white">Make Power Sales</h1>
                      <p class="text-white" style="font-size: 1rem;">Do your best at all times. What you sow today will bear fruit later.</p>
                    </div>
                  </div>

                </div>
               <div class="col-12 col-sm-12 col-md-10 col-lg-6 col-xl-5 mx-auto bg-white p-3 shadow" style="border-radius: 20px !important;">
                 <div class="text-center my-4">
                    <img class="img-fluid" src="{% static 'img/consumer/consumer_logo.png' %}"  alt="" style="padding: 10px !important; max-height: 100px !important;">
                 </div>
                 <!-- <h4 class="title text-center">Login</h4> -->

                 <!-- Sign In Form -->
                 <form class="user" method="POST" action="{% url 'login_verification' token=token %}"  autocomplete="off" >
                  {% csrf_token %}
                    {% for message in messages %}
                     <p id="messages" style="color: #28a745 !important; background-color: #f9fffb; border: 1px solid rgba(40,167,69,.2); padding: 10px !important; text-align: center;"><i class="fa fa-check mx-1" aria-hidden="true" style=" margin-right: 5px; "></i> {{message}}</p>
                    {% endfor %}
                    {% if context.error_msg %}
                      <p id="messages" style="color: red; background-color: #fff9fa; border: 1px solid rgba(255,66,79,.2); padding: 10px !important; text-align: center;"><i class="fa fa-times mx-1" aria-hidden="true" style=" margin-right: 5px; "></i> {{context.error_msg}}</p>
                    {% elif context.success_msg %}
                      <p id="messages" style="color: #28a745 !important; background-color: #f9fffb; border: 1px solid rgba(40,167,69,.2); padding: 10px !important; text-align: center;"><i class="fa fa-check mx-1" aria-hidden="true" style=" margin-right: 5px; "></i> {{context.success_msg}}</p>
                    {% endif %}
                    <div class="row w-100 m-auto">
                        <div class="mb-2">
                            <label class="mb-1" for="inputverificationcode">Verification Code</label>
                            <input autocomplete="off" type="number" name="verification_code" id="verification_code"  style="border-radius:10px; padding: 1rem 0.75rem" class="form-control text-center"  placeholder="Enter Verification Code" required>
                            </div>
                        </div>
                    <div class="row w-100 m-auto" style="padding: 0 12px;">
                        <button type="submit" value="verify" class="btn btn-default submit fw-bold" style="border-radius: 15px; padding: 1rem 0.75rem">VERIFY</button>
                    </div>
                 </form>
               </div>
             </div>
           </div>
         </div>
     </div>
     <script>

      function password_show_hide() {
      var x = document.getElementById("password");
      var show_eye = document.getElementById("show_eye");
      var hide_eye = document.getElementById("hide_eye");
      hide_eye.classList.remove("d-none");
      if (x.type === "password") {
        x.type = "text";
        show_eye.style.display = "none";
        hide_eye.style.display = "block";
      } else {
        x.type = "password";
        show_eye.style.display = "block";
        hide_eye.style.display = "none";
      }
      }

    </script>
    <script>
      const codeInputs = document.querySelectorAll('.code');

        codeInputs.forEach((input, index) => {
        input.addEventListener('input', (e) => {
            const inputVal = e.target.value;
            if (isNaN(inputVal)) {
            e.target.value = '';
            } else if (index < codeInputs.length - 1 && inputVal !== '') {
            codeInputs[index + 1].focus();
            }
            checkCode();
        });

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Backspace' && index > 0 && input.value === '') {
            codeInputs[index - 1].focus();
            }
        });
        });

        function checkCode() {
        const code = Array.from(codeInputs).map(input => input.value).join('');
        if (code.length === codeInputs.length) {
            if (code === '123456') {
            alert('Verification successful!');
            } else {
            alert('Verification failed. Please try again.');
            resetCode();
            }
        }
        }

        function resetCode() {
        codeInputs.forEach(input => input.value = '');
        codeInputs[0].focus();
        }


    </script>
  

     <!-- Optional JavaScript; choose one of the two! -->

     <!-- Option 1: Bootstrap Bundle with Popper -->
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

     <!-- Option 2: Separate Popper and Bootstrap JS -->

     <!-- <script src="assets/js/style.js"></script> -->

     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

   </body>
 </html>
